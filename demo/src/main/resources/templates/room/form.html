<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head><title>Room Form</title></head>
<body>

<h1 th:text="${room.id == null ? 'Add Room' : 'Edit Room'}"></h1>

<!-- Atenție: Asigură-te că link-urile din Controller corespund cu acestea -->
<form th:action="@{/rooms/save}" th:object="${room}" method="post">

    <input type="hidden" th:field="*{id}" />

    <!-- 1. Hospital (Corectat din Department) -->
    <label>Hospital:</label>
    <select th:field="*{hospital}">
        <!-- Trebuie să trimiți "hospitals" din Controller, nu "departments" -->
        <option th:each="h : ${hospitals}"
                th:value="${h.id}"
                th:text="${h.name}">
        </option>
    </select>
    <p th:errors="*{hospital}" style="color:red"></p>
    <br>

    <!-- 2. Number (Adăugat - lipsea) -->
    <label>Room Number:</label>
    <input type="number" th:field="*{number}" required />
    <br><br>

    <!-- 3. Capacity (Adăugat - lipsea) -->
    <label>Capacity:</label>
    <input type="number" th:field="*{capacity}" required />
    <br><br>

    <!-- 4. Status (Corectat pachetul Enum) -->
    <label>Status:</label>
    <select th:field="*{status}">
        <!-- Verifică dacă pachetul este 'enums' sau 'model' în proiectul tău -->
        <!-- Conform codului java trimis, este în 'enums' -->
        <option th:each="s : ${T(com.example.demo.enums.RoomStatus).values()}"
                th:value="${s}"
                th:text="${s}">
        </option>
    </select>
    <p th:errors="*{status}" style="color:red"></p>
    <br>

    <button type="submit">Save</button>
</form>

</body>
</html>
<!sepa