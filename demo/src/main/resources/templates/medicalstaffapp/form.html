<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head><title>Assign Medical Staff</title></head>
<body>

<h1>Assign Medical Staff to Appointment</h1>

<form th:action="@{/medicalstaffapp}"
      th:object="${assignment}"
      method="post">

    <label>Staff:</label>
    <select th:field="*{staff}">
        <optgroup label="Doctors">
            <option th:each="d : ${doctors}"
                    th:value="${d}"
                    th:text="${d.name}">
            </option>
        </optgroup>

        <optgroup label="Nurses">
            <option th:each="n : ${nurses}"
                    th:value="${n}"
                    th:text="${n.name}">
            </option>
        </optgroup>
    </select>
    <p th:errors="*{staff}" style="color:red"></p>
    <br>

    <label>Appointment:</label>
    <select th:field="*{appointment}">
        <option th:each="app : ${appointments}"
                th:value="${app}"
                th:text="${'Appointment ' + app.id + ' - ' + app.patient.name}">
        </option>
    </select>
    <p th:errors="*{appointment}" style="color:red"></p>
    <br>

    <button type="submit">Assign</button>
</form>

</body>
</html>
